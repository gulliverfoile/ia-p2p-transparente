# Crea esto como primer archivo:
# setup_sistema_basico.py

import os
import json
from datetime import datetime

class SistemaBase:
    """Punto de partida para nuestro sistema"""
    
    def __init__(self, nombre="IA-Auditable"):
        self.nombre = nombre
        self.version = "0.1.0"
        self.fecha_creacion = datetime.now()
        
        # Crear estructura de directorios
        self.crear_estructura()
        
        # Inicializar configuraciÃ³n
        self.config = self.cargar_configuracion()
        
        print(f"""
        â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
        â•‘    SISTEMA P2P DE IA AUDITABLE - INICIANDO       â•‘
        â•‘    Nombre: {self.nombre:30} â•‘
        â•‘    VersiÃ³n: {self.version:29} â•‘
        â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        """)
    
    def crear_estructura(self):
        """Crea la estructura bÃ¡sica de archivos"""
        directorios = [
            'modulos',
            'auditoria',
            'datos',
            'config',
            'tests'
        ]
        
        for directorio in directorios:
            os.makedirs(directorio, exist_ok=True)
            print(f"ğŸ“ Directorio creado: {directorio}/")
        
        # Archivos de configuraciÃ³n inicial
        config_base = {
            "sistema": {
                "nombre": self.nombre,
                "version": self.version,
                "fecha_creacion": self.fecha_creacion.isoformat(),
                "principios_eticos": [
                    "transparencia_radical",
                    "auditoria_continua",
                    "control_distribuido",
                    "responsabilidad_clara"
                ]
            },
            "red": {
                "tipo": "p2p",
                "puerto_base": 8000,
                "descubrimiento": True,
                "seeds": []
            },
            "modulos_por_defecto": [
                "auditoria_textos",
                "analisis_sesgos",
                "verificacion_fuentes"
            ]
        }
        
        with open('config/config_base.json', 'w', encoding='utf-8') as f:
            json.dump(config_base, f, indent=2, ensure_ascii=False)
        
        print("ğŸ“„ Archivo de configuraciÃ³n creado: config/config_base.json")
    
    def cargar_configuracion(self):
        """Carga la configuraciÃ³n"""
        try:
            with open('config/config_base.json', 'r', encoding='utf-8') as f:
                return json.load(f)
        except:
            return {}
    
    def mostrar_estado(self):
        """Muestra el estado del sistema"""
        print(f"""
        ğŸ“Š ESTADO DEL SISTEMA:
        
        Nombre: {self.nombre}
        VersiÃ³n: {self.version}
        Creado: {self.fecha_creacion.strftime('%Y-%m-%d %H:%M')}
        
        ğŸ“ Estructura lista:
        â”œâ”€â”€ modulos/      (MÃ³dulos especializados)
        â”œâ”€â”€ auditoria/    (Sistema de auditorÃ­a)
        â”œâ”€â”€ datos/        (Datos y modelos)
        â”œâ”€â”€ config/       (ConfiguraciÃ³n)
        â””â”€â”€ tests/        (Pruebas)
        
        âš–ï¸ Principios Ã©ticos:
        """)
        
        for principio in self.config.get('sistema', {}).get('principios_eticos', []):
            print(f"   â€¢ {principio}")
        
        print(f"""
        ğŸ¯ PrÃ³ximos pasos:
        1. AÃ±adir primer mÃ³dulo (modulos/analisis_textos.py)
        2. Implementar ledger bÃ¡sico (auditoria/ledger.py)
        3. Crear protocolo P2P simple
        """)

# Ejecutar
if __name__ == "__main__":
    sistema = SistemaBase("MiIA-Auditable")
    sistema.mostrar_estado()
    
    # Guardar instrucciones
    with open('INSTRUCCIONES.md', 'w', encoding='utf-8') as f:
        f.write("""# Instrucciones para desarrollar el sistema

## 1. Primer mÃ³dulo bÃ¡sico
Crear archivo: `modulos/analisis_textos.py`

```python
class AnalizadorTextos:
    def analizar(self, texto):
        return {
            'longitud': len(texto),
            'es_pregunta': '?' in texto,
            'conteo_palabras': len(texto.split())
        }
